<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="{{ActualUser.name}}">
  <ion-content class="padding">
      <p>Detalles de usuario</p>
    <p>
      {{ActualUser.email}}
    </p>
    <div class='row'>
      <div class='col-xs-12'>
        <ion-list>
              <ion-item ng-repeat="item in mensajeria.messageLog" ng-if='item.nick==ActualUser.email|| item.nick==$root.user.email'>
                  {{item.hora}} - {{item.nick}}: {{item.msg}}
              </ion-item>
          </ion-list>
      </div>
    </div>
    <div class='row'>
      &nbsp;
    </div>
    <div class='row'>
      <div class='col-xs-12'>
        <form role='form' class='form-inline' novalidate name='form'>
          <div class='form-group col-xs-10'>
              <input class="form-control" type='text' style='width: 80%' 
            required
            ng-max='50' 
            ng-model='mensajeria.message' 
            focus>
          </div>
          <div class='form-group col-xs-2'>
            <button class='btn btn-sm btn-primary' 
              ng-enable='form.$valid'
              ng-click="sendMessage(message,ActualUser.email)">Send!</button>
          </div>
        </form>
      </div>
    </div>
  </ion-content>
</ion-view>
